model User {
  id             String           @id @default(uuid())
  email          String           @unique
  firstName     String
  lastName      String
  password      String
  emailVerified  Boolean          @default(false)
  role           UserRole           @default(USER)
  isPremium      Boolean          @default(false)

  status         UserStatus       @default(ACTIVE)
  isBanned       Boolean          @default(false)
  banReason      String?
  bannedAt       DateTime?
  bannedBy       String?
  isSuspended    Boolean          @default(false)
  suspendedUntil DateTime?
  suspensionReason String?
  lastLoginAt    DateTime?
  lastLoginIp    String?

  avatar         Media?           @relation("UserAvatar")
  coverImage     Media?           @relation("UserCover")

  messages      Message[]
  rooms         RoomParticipant[]

  sessions       Session[]
  accounts       Account[]

  subscription   Subscription?
  paymentHistory PaymentHistory[]

  auditLogs      AuditLog[]
  adminPermissions AdminPermission[]

  createdAt      DateTime         @default(now())
  updatedAt      DateTime         @updatedAt

  @@index([status])
  @@index([isBanned])
  @@index([emailVerified])
}

enum UserRole {
  USER
  ADMIN
}

enum UserStatus {
  ACTIVE
  SUSPENDED
  BANNED
  PENDING
}

